{
    "$schema": "../../node_modules/wrangler/config-schema.json",
    "name": "kono-api",
    "main": "src/index.ts",
    "compatibility_date": "2025-05-08",
    "compatibility_flags": ["nodejs_compat"],
    "vars": {
        // "BETTER_AUTH_SECRET": null,
        // "GOOGLE_GENERATIVE_AI_API_KEY": null,
        // "OPENAI_API_KEY": null,
        // "ANTHROPIC_API_KEY": null,
        // "GOOGLE_CLIENT_ID": null,
        // "GOOGLE_CLIENT_SECRET": null,
        "BETTER_AUTH_URL": "https://api.kono.chat",
        "UI_HOST": "https://kono.chat",
        "API_HOST": "https://api.kono.chat"
    },
    "routes": [
        {
            "pattern": "api.kono.chat",
            "zone_name": "kono.chat",
            "custom_domain": true
        }
    ],
    "d1_databases": [
        {
            "binding": "DB",
            "database_name": "kono-chat",
            "database_id": "33308e47-5118-41fc-a0eb-d7acdde82d00",
            "migrations_dir": "drizzle/migrations"
        }
    ],
    "durable_objects": {
        "bindings": [
            {
                "name": "CHAT_DURABLE_OBJECT",
                "class_name": "ChatDurableObject"
            }
        ]
    },
    "migrations": [
        {
            "tag": "v1",
            "new_sqlite_classes": ["ChatDurableObject"]
        }
    ],
    "rules": [
        {
            "type": "Text",
            "globs": ["**/*.sql"],
            "fallthrough": true
        }
    ],
    "observability": {
        "head_sampling_rate": 1,
        "logs": {
            "enabled": true
        },
        "enabled": true
    }
}
